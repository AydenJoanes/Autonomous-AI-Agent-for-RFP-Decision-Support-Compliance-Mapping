# ==============================================================================
# RFP BID DECISION AGENT - REQUIREMENTS
# Python Version: 3.10 or 3.11 (both supported)
# ==============================================================================

# ------------------------------------------------------------------------------
# Web Framework
# ------------------------------------------------------------------------------
fastapi>=0.109.0,<1.0.0       # Modern web framework with auto-docs
uvicorn[standard]>=0.27.0     # ASGI server with performance extras
python-multipart>=0.0.6       # File upload support

# ------------------------------------------------------------------------------
# Configuration & Validation
# ------------------------------------------------------------------------------
pydantic>=2.5.0,<3.0.0        # Data validation and settings
pydantic-settings>=2.1.0      # Settings management from .env
python-dotenv>=1.0.0          # Load environment variables

# ------------------------------------------------------------------------------
# Database (Optional - can start with JSON files)
# ------------------------------------------------------------------------------
psycopg2-binary>=2.9.9      # PostgreSQL driver
pgvector>=0.2.4             # Vector search support
sqlalchemy>=2.0.0,<3.0.0      # SQL toolkit and ORM

# ------------------------------------------------------------------------------
# AI/LLM Core - COMPATIBLE VERSIONS
# ------------------------------------------------------------------------------
# Using langchain 0.3.x for latest features and better compatibility
langchain>=0.3.0,<0.4.0
langchain-openai>=0.2.0,<0.4.0
langchain-community>=0.3.0,<0.4.0
# Note: langchain-core is auto-installed as dependency, don't pin it manually
# Pinned per request (fixed name):
langchain-core==0.3.0

openai>=1.40.0,<2.0.0         # OpenAI API client
tiktoken>=0.7.0               # OpenAI tokenizer

# ------------------------------------------------------------------------------
# Embeddings & ML (Optional - comment out if not using embeddings)
# ------------------------------------------------------------------------------
# These are HEAVY packages (~2GB). Comment out if not needed initially.
sentence-transformers>=2.2.0,<3.0.0   # Semantic embeddings
# torch is auto-installed by sentence-transformers
# transformers is auto-installed by sentence-transformers

# ------------------------------------------------------------------------------
# Document Processing
# ------------------------------------------------------------------------------
# Option 1: FULL POWER (IBM Docling) - heavier but more capable
docling>=2.0.0                # High-fidelity PDF/DOCX parsing

# Option 2: LIGHTWEIGHT (Google langextract) - for structured extraction
langextract>=1.0.0            # LLM-powered extraction

# Option 3: SIMPLE FALLBACK - always works, lightweight
pypdf>=4.0.0                  # PDF parsing (simple)
python-docx>=1.1.0            # DOCX file parsing (simple)

# ------------------------------------------------------------------------------
# Logging
# ------------------------------------------------------------------------------
loguru>=0.7.0                 # Simple and powerful logging

# ------------------------------------------------------------------------------
# Utilities
# ------------------------------------------------------------------------------
python-dateutil>=2.8.0        # Date parsing and manipulation
httpx>=0.25.0                 # Modern async HTTP client
rich>=13.0.0                  # Beautiful terminal output
pyyaml>=6.0.0                 # YAML file support

# ------------------------------------------------------------------------------
# Testing
# ------------------------------------------------------------------------------
pytest>=7.0.0                 # Testing framework
pytest-asyncio>=0.23.0        # Async test support
pytest-cov>=4.0.0             # Coverage reporting

# ==============================================================================
# INSTALLATION STEPS
# ==============================================================================
#
# STEP 1: Create virtual environment
#    python -m venv venv
#
# STEP 2: Activate virtual environment
#    Windows:   venv\Scripts\activate
#    Mac/Linux: source venv/bin/activate
#
# STEP 3: Upgrade pip
#    python -m pip install --upgrade pip
#
# STEP 4: Install requirements
#    pip install -r requirements.txt
#
# STEP 5: If you get conflicts, try:
#    pip install -r requirements.txt --upgrade
#
# STEP 6: Verify installation
#    python -c "import langchain, openai, pypdf; print('All OK!')"
#
# ==============================================================================
# TROUBLESHOOTING
# ==============================================================================
#
# ERROR: "Cannot find version that satisfies..."
# FIX: pip install --upgrade pip setuptools wheel
#
# ERROR: docling installation fails
# FIX: Comment out docling, use pypdf + python-docx instead
#
# ERROR: torch is too large / takes forever
# FIX: Comment out sentence-transformers (only needed for embeddings)
#
# ERROR: Conflicting dependencies
# FIX: pip install -r requirements.txt --no-deps
#      Then: pip check (to see what's missing)
#
# ==============================================================================